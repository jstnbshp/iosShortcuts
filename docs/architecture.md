# üß± Shortcut Architecture: Voice Memo to Notion

Here‚Äôs the simple flow of how this Shortcut works behind the scenes:

## üîÑ Data Flow

1. **Input**  
   I choose a voice memo file manually from the Files app or use the share sheet.

2. **Transcription**  
   The Shortcut sends the audio file to OpenAI's Whisper API via a `POST` request.  
   Whisper returns a full text transcription.

3. **Summarization**  
   The transcription is then sent to GPT-4 using a `POST` request with a prompt like:  
   _‚ÄúSummarize this text clearly and concisely.‚Äù_

4. **Formatting**  
   The Shortcut assembles a JSON object containing:
   - Title (optional or autogenerated)
   - Transcription
   - Summary
   - Timestamp (auto-generated)

5. **Notion Insertion**  
   That JSON is sent via `POST` to the Notion API, using the Notion token and database ID I‚Äôve configured manually in the Shortcut.

---

## üõ°Ô∏è Credentials

- **OpenAI API Key**  
  Passed via Bearer Token in headers.

- **Notion Integration Token**  
  Used in headers for Notion API auth.

- **Notion Database ID**  
  Included in the body as the `parent` of the new page.

All secrets are stored locally inside the Shortcut. Nothing is saved or reused unless I decide to.

---

## üåê APIs Used

- [OpenAI Whisper](https://platform.openai.com/docs/guides/speech-to-text)
- [OpenAI GPT-4](https://platform.openai.com/docs/guides/text-generation)
- [Notion API](https://developers.notion.com/reference/post-page)

